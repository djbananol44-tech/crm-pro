# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸš€ JGGL CRM â€” Systemd Service Unit
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°:
#   sudo cp docker/systemd/crm-pro.service /etc/systemd/system/
#   sudo systemctl daemon-reload
#   sudo systemctl enable crm-pro
#   sudo systemctl start crm-pro
#
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°:
#   sudo systemctl status crm-pro
#   journalctl -u crm-pro -f
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[Unit]
Description=JGGL CRM Application (Docker Compose)
Documentation=https://github.com/your-repo/crm-pro
Requires=docker.service
After=docker.service network-online.target
Wants=network-online.target

[Service]
Type=oneshot
RemainAfterExit=yes
WorkingDirectory=/opt/crm

# ĞŸÑƒÑ‚ÑŒ Ğº docker compose
Environment="COMPOSE_FILE=docker-compose.prod.yml"

# Ğ—Ğ°Ğ¿ÑƒÑĞº
ExecStart=/usr/bin/docker compose -f docker-compose.prod.yml up -d --remove-orphans

# ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°
ExecStop=/usr/bin/docker compose -f docker-compose.prod.yml down

# ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞº
ExecReload=/usr/bin/docker compose -f docker-compose.prod.yml restart

# Ğ¢Ğ°Ğ¹Ğ¼Ğ°ÑƒÑ‚Ñ‹
TimeoutStartSec=300
TimeoutStopSec=120

# ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¸ Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğ¸
Restart=on-failure
RestartSec=30

# Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
StandardOutput=journal
StandardError=journal
SyslogIdentifier=crm-pro

[Install]
WantedBy=multi-user.target
